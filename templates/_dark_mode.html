<style>
    :root {
        --dark-bg: #0b111f;
        --dark-card: #14203a;
        --dark-panel: #1d2a45;
        --dark-border: #384664;
        --dark-header: #0d1526;
        --dark-text: #e2e8f0;
        --dark-muted: #9fb3cc;
    }

    body.dark-mode {
        background: var(--dark-bg);
        color: var(--dark-text);
    }

    body.dark-mode header,
    body.dark-mode nav {
        background: var(--dark-header);
    }

    body.dark-mode .section,
    body.dark-mode .card,
    body.dark-mode .hosts-card,
    body.dark-mode .action-group {
        background: var(--dark-panel);
    }

    body.dark-mode table th {
        background: var(--dark-header);
    }

    body.dark-mode table td {
        border-bottom: 1px solid var(--dark-border);
        color: var(--dark-text);
    }

    body.dark-mode tr:hover {
        background: rgba(255, 255, 255, 0.03);
    }

    body.dark-mode .alert {
        filter: brightness(1.1);
    }

    body.dark-mode .host-pill {
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    body.dark-mode .action-label {
        color: var(--dark-muted);
    }
</style>

<script>
    const DARK_MODE_KEY = 'darkMode';

    function updateDarkModeButton(isDark) {
        const button = document.getElementById('darkModeToggle');
        if (!button) return;
        button.textContent = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    }

    function setDarkMode(enabled) {
        document.body.classList.toggle('dark-mode', enabled);
        updateDarkModeButton(enabled);
        if (enabled) {
            localStorage.setItem(DARK_MODE_KEY, 'enabled');
        } else {
            localStorage.setItem(DARK_MODE_KEY, 'disabled');
        }
    }

    function toggleDarkMode() {
        setDarkMode(!document.body.classList.contains('dark-mode'));
    }

    function initDarkModePreference() {
        const pref = localStorage.getItem(DARK_MODE_KEY);
        setDarkMode(pref === 'enabled');
    }

    document.addEventListener('DOMContentLoaded', initDarkModePreference);
</script>
